<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://code.alibabatech.com/schema/dubbo
                           http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">


    <!-- 提供方应用信息，用于计算依赖关系 -->
    <dubbo:application name="${service_app_name}"/>
    <!-- 全局配置 -->
    <dubbo:provider retries="0" timeout="10000"/>

    <!-- 使用zookeeper注册中心暴露服务地址  -->
    <dubbo:registry id="my-app" protocol="zookeeper" address="${zookeeper_service_url}"/>

    <!-- 协议配置 -->
    <dubbo:protocol name="dubbo" port="${dubbo_app_service_port}" server="netty" client="netty" serialization="java"
                    charset="UTF-8" threadpool="fixed" threads="200" queues="0" iothreads="9" buffer="8192"
                    accepts="1000" payload="8388608"/>
    <!--
    <dubbo:protocol name="rmi" port="4011" />
    <dubbo:protocol name="dubbo" port="4015" accepts="1000"/>
    <dubbo:protocol name="webservice" port="8080" server="servlet"/>
    <dubbo:protocol name="http" port="8080" server="servlet"/>
      -->
    <!-- 监控配置 -->
    <dubbo:monitor protocol="registry"/>
    <!-- 声明需要暴露的服务接口 -->
    <dubbo:service registry="my-app" application="${service_app_name}" interface="cn.web1992.api.HelloWorldService"
                   ref="helloWorldService" version="${dubbo_app_service_version}" protocol="dubbo"/>

    <bean id="helloWorldService" class="cn.web1992.api.HelloWorldServiceImpl"/>
</beans>